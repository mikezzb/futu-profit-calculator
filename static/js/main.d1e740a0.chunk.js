(this.webpackJsonpleek=this.webpackJsonpleek||[]).push([[0],{142:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),i=a.n(c),o=(a(142),a(22)),s=a(51),l=a.n(s),u=a(84),b=a(107),j=a(64),d=a(65),O=a(61),p=(a(144),a(18)),h=a(74);a(157);h.a.initializeApp({apiKey:"AIzaSyA1e63rwqOY0uC7wkhZxj1cXykR_h-ZnPE",authDomain:"leek-14509.firebaseapp.com",projectId:"leek-14509",storageBucket:"leek-14509.appspot.com",messagingSenderId:"921404501955",appId:"1:921404501955:web:415dda0acb6b590e4cd776",measurementId:"G-8RJKM3VLR7"});var f,m,v,x,y=h.a.firestore(),g=(f=p.b.bound,m=p.b.bound,v=function(){function e(){Object(j.a)(this,e),Object(b.a)(this,"transactions",x,this),this.init(),Object(p.e)(this)}return Object(d.a)(e,[{key:"init",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.transactions=[],e.next=3,this.loadFromStore();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadFromStore",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.collection("transactions").get().then((function(e){console.log(e.docs.map((function(e){return Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}))),t.transactions=e.docs.map((function(e){return Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"saveTransaction",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=+new Date,y.doc("transactions/".concat(a)).set(Object(o.a)(Object(o.a)({},t),{},{id:a})).then((function(){n.transactions.unshift(Object(o.a)(Object(o.a)({},t),{},{id:a}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTransactions",value:function(e){this.transactions=e}}]),e}(),x=Object(O.a)(v.prototype,"transactions",[p.f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(O.a)(v.prototype,"init",[f],Object.getOwnPropertyDescriptor(v.prototype,"init"),v.prototype),Object(O.a)(v.prototype,"loadFromStore",[p.b],Object.getOwnPropertyDescriptor(v.prototype,"loadFromStore"),v.prototype),Object(O.a)(v.prototype,"saveTransaction",[p.b],Object.getOwnPropertyDescriptor(v.prototype,"saveTransaction"),v.prototype),Object(O.a)(v.prototype,"setTransactions",[m],Object.getOwnPropertyDescriptor(v.prototype,"setTransactions"),v.prototype),v),S=a(9),P=new g,E=Object(n.createContext)();function N(e){var t=e.children;return Object(S.jsx)(E.Provider,{value:P,children:t})}var w=a(210),k=a(208),I=a(52),C=a(120),A=a(115),R=a(24),M=a(8),T=a(90),F=a(213),_=a(163),D=a(211),z=a(206),L=a(209),U=a(53),H=a(89),G=a(113),B=(a(152),[{field:"id",headerName:"ID",hide:!0},{field:"date",headerName:"Date",type:"date",width:130,valueGetter:function(e){return"".concat("calculator"===e.getValue("id")?"Cal":new Date(parseInt(e.getValue("id"),10)).toLocaleDateString())}},{field:"profit",headerName:"Profit ($)",width:120,type:"number"},{field:"percentageChange",headerName:"Gain (%)",width:120,type:"number"},{field:"buyPrice",headerName:"Buy ($)",width:100,type:"number"},{field:"sellPrice",headerName:"Sell ($)",width:100,type:"number"}]),V=function(e){var t=e.rows,a=e.pageSize;return Object(S.jsx)("div",{className:"profit-table",children:Object(S.jsx)(H.a,{rows:t,columns:B,pageSize:a||5,autoHeight:!0})})},$=Object.freeze({COMMISSION:.0049,PLATFORM:.005,CLEARING:.003}),K=Object.freeze({COMMISSION:.99,PLATFORM:1}),J=Object.freeze({PER_SHARE:$,MIN_FEES:K}),Y=Object.freeze({PER_SHARE:Object(o.a)(Object(o.a)({},$),{},{TRADING_ACTIVITY:119e-6}),PER_AMOUNT:{SEC:51e-7},MIN_FEES:Object(o.a)(Object(o.a)({},K),{},{TRADING_ACTIVITY:.01,SEC:.01})}),Z=function(e,t,a){var n=0;return Object.keys(e.PER_SHARE).forEach((function(t){n+=Math.max(e.PER_SHARE[t]*a,t in e.MIN_FEES?e.MIN_FEES[t]:0)})),"PER_AMOUNT"in e&&Object.keys(e.PER_AMOUNT).forEach((function(r){n+=Math.max(e.PER_AMOUNT[r]*a*t,r in e.MIN_FEES?e.MIN_FEES[r]:0)})),n},q=function(e){var t=e.market,a=e.numOfShares,n=e.buyPrice,r=e.sellPrice;if("US"===t){var c=Z(J,n,a),i=Z(Y,r,a),o=(r-n)*a-(c+i),s=o/(n*a);return{profit:o.toFixed(3),buyCommission:c,sellCommission:i,percentageChange:(100*s).toFixed(3)}}return{}},X=(a(153),function(e){var t=e.label,a=e.children;return Object(S.jsxs)("div",{className:"calculator-row",children:[Object(S.jsx)("div",{className:"calculator-row-label",children:"".concat(t,":")}),a]})}),Q=Object(G.a)((function(){var e=Object(n.useContext)(E),t=Object(n.useReducer)((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}),{market:"US",numOfShares:100,buyPrice:15,sellPrice:15}),a=Object(M.a)(t,2),r=a[0],c=a[1],i=function(){var e=q(r);return{id:"calculator",profit:e.profit,percentageChange:e.percentageChange,buyPrice:r.buyPrice,sellPrice:r.sellPrice}};return Object(S.jsxs)("div",{children:[Object(S.jsxs)(T.a,{variant:"outlined",className:"calculator-card",elevation:1,children:[Object(S.jsx)(X,{label:"Market",children:Object(S.jsxs)(F.a,{row:!0,"aria-label":"market",name:"market",value:r.market,onChange:function(e){return c({market:e.target.value})},children:[Object(S.jsx)(_.a,{value:"US",control:Object(S.jsx)(D.a,{}),label:"US"}),Object(S.jsx)(_.a,{value:"HK",control:Object(S.jsx)(D.a,{}),label:"HK"})]})}),Object(S.jsx)(X,{label:"Number of Shares",children:Object(S.jsx)(z.a,{value:r.numOfShares,onChange:function(e){return c({numOfShares:e.target.value})},startAdornment:Object(S.jsx)(L.a,{position:"start",children:"N"})})}),Object(S.jsx)(X,{label:"Buy",children:Object(S.jsx)(z.a,{value:r.buyPrice,onChange:function(e){return c({buyPrice:e.target.value})},startAdornment:Object(S.jsx)(L.a,{position:"start",children:"$"})})}),Object(S.jsx)(X,{label:"Sell",children:Object(S.jsx)(z.a,{value:r.sellPrice,onChange:function(e){return c({sellPrice:e.target.value})},startAdornment:Object(S.jsx)(L.a,{position:"start",children:"$"})})}),Object(S.jsx)("div",{className:"calculator-btn",children:Object(S.jsx)(U.a,{variant:"contained",color:"primary",elevation:2,onClick:function(){return e.saveTransaction(i())},children:"Record"})})]}),Object(S.jsx)(V,{rows:e.transactions.length?[].concat(Object(R.a)(e.transactions),[i()]):[i()],pageSize:5})]})})),W=(a(154),function(){return Object(S.jsxs)("div",{className:"home",children:[Object(S.jsx)(w.a,{className:"header",children:Object(S.jsxs)(k.a,{children:[Object(S.jsx)(I.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(S.jsx)(A.a,{})}),Object(S.jsx)(C.a,{variant:"h6",children:"Leek"})]})}),Object(S.jsx)(Q,{})]})});a(155);var ee=function(){return Object(S.jsx)(N,{children:Object(S.jsx)("div",{className:"App",children:Object(S.jsx)(W,{})})})},te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,214)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(ee,{})}),document.getElementById("root")),te()}},[[156,1,2]]]);
//# sourceMappingURL=main.d1e740a0.chunk.js.map