{"version":3,"sources":["config.js","store/TransactionStore.js","store/index.js","components/molecules/ProfitTable.js","constants/commissions.js","helpers/calculate.js","components/organisms/Calculator.js","pages/Home.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","TransactionStore","action","bound","this","init","makeObservable","transactions","loadFromStore","collection","get","then","snap","setTransactions","docs","map","item","data","id","transaction","Date","doc","set","addToStore","String","transactionIds","forEach","delete","deleteWithId","unshift","index","findIndex","splice","console","log","observable","transactionStore","TransactionContext","createContext","StoreProvider","children","Provider","value","columns","field","hide","headerName","type","width","valueGetter","params","getValue","parseInt","toLocaleDateString","ProfitTable","rows","pageSize","deleteTransactions","useState","selected","setSelected","className","sortModel","sort","checkboxSelection","autoHeight","onSelectionModelChange","selection","selectionModel","Boolean","length","Button","variant","color","elevation","onClick","FUTU_US_TRANSACTION_FEES","Object","freeze","COMMISSION","PLATFORM","CLEARING","FUTU_US_MIN_FEES","FUTU_US_BUY","PER_SHARE","MIN_FEES","FUTU_US_SALE","TRADING_ACTIVITY","PER_AMOUNT","SEC","FUTU_HK_TRANSACTION_FEES","SETTLEMENT","STAMP_DUTY","TRADING","LEVY","FUTU_HK_MIN_FEES","TARIFF","FUTU_HK_BUY","FUTU_HK_SALE","getFee","fees","price","numOfShares","total","minFees","keys","key","amount","Math","max","values","reduce","acc","fee","calculate","market","buyPrice","sellPrice","SALE_FEES","buyCommission","sellCommission","profit","percentageChange","toFixed","CalculatorRow","label","observer","useContext","useReducer","state","form","dispatchForm","generateResult","result","Paper","RadioGroup","fullWidth","row","aria-label","name","onChange","e","target","FormControlLabel","control","Radio","Input","startAdornment","InputAdornment","position","saveTransaction","Home","AppBar","Toolbar","IconButton","edge","Typography","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e74d5325.chunk.js","sourcesContent":["import firebase from 'firebase/app';\n\nimport 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyA1e63rwqOY0uC7wkhZxj1cXykR_h-ZnPE',\n  authDomain: 'leek-14509.firebaseapp.com',\n  projectId: 'leek-14509',\n  storageBucket: 'leek-14509.appspot.com',\n  messagingSenderId: '921404501955',\n  appId: '1:921404501955:web:415dda0acb6b590e4cd776',\n  measurementId: 'G-8RJKM3VLR7',\n};\n\nfirebase.initializeApp(firebaseConfig);\nconst db = firebase.firestore();\nexport { firebase, db };\n","import { makeObservable, observable, action } from 'mobx';\nimport { db } from '../config';\n\nclass TransactionStore {\n  @observable transactions;\n\n  constructor() {\n    this.init();\n    makeObservable(this);\n  }\n\n  @action.bound async init() {\n    this.transactions = [];\n    await this.loadFromStore();\n  }\n\n  @action async loadFromStore() {\n    db.collection('transactions').get().then(\n      snap => {\n        this.setTransactions(snap.docs.map(item => ({\n          ...item.data(),\n          id: item.id,\n        })));\n      }\n    );\n  }\n\n  @action async saveTransaction(transaction) {\n    const id = +new Date();\n    db.doc(`transactions/${id}`)\n      .set({\n        ...transaction,\n        id,\n      })\n      .then(() => {\n        this.addToStore({\n          ...transaction,\n          id: String(id),\n        });\n      });\n  }\n\n  @action async deleteTransactions(transactionIds) {\n    transactionIds.forEach(id => {\n      db.doc(`transactions/${id}`)\n        .delete()\n        .then(() => this.deleteWithId(id));\n    });\n  }\n\n  @action.bound addToStore(transaction) {\n    this.transactions.unshift(transaction);\n  }\n\n  @action.bound deleteWithId(id) {\n    const index = this.transactions.findIndex(transaction => transaction.id === id);\n    if (index !== -1) {\n      this.transactions.splice(index, 1);\n    }\n    else {\n      console.log('Error!');\n    }\n  }\n\n  @action.bound setTransactions(transactions) {\n    this.transactions = transactions;\n  }\n}\n\nexport default TransactionStore;\n","import React, { createContext } from 'react';\r\n\r\nimport TransactionStore from './TransactionStore';\r\n\r\nconst transactionStore = new TransactionStore();\r\n\r\nexport const TransactionContext = createContext();\r\n\r\nexport default function StoreProvider({ children }) {\r\n  return (\r\n    <TransactionContext.Provider value={transactionStore}>\r\n      {children}\r\n    </TransactionContext.Provider>\r\n  );\r\n}\r\n","import React, { useReducer, useState, useEffect } from 'react';\nimport {\n  Button\n} from '@material-ui/core';\nimport { DataGrid } from '@material-ui/data-grid';\n\nimport './ProfitTable.css';\n\nconst columns = [\n  {\n    field: 'id', hide: true,\n  },\n  {\n    field: 'date',\n    headerName: 'Date',\n    type: 'date',\n    width: 130,\n    valueGetter: params => `${params.getValue('id') ? new Date(parseInt(params.getValue('id'), 10)).toLocaleDateString() : 'Calculation'}`,\n  },\n  {\n    field: 'profit', headerName: 'Profit ($)', width: 120, type: 'number',\n  },\n  {\n    field: 'percentageChange', headerName: 'Gain (%)', width: 120, type: 'number',\n  },\n  {\n    field: 'buyPrice', headerName: 'Buy ($)', width: 100, type: 'number',\n  },\n  {\n    field: 'sellPrice', headerName: 'Sell ($)', width: 100, type: 'number',\n  },\n  {\n    field: 'numOfShares', headerName: 'Shares', width: 100, type: 'number',\n  },\n];\n\nconst ProfitTable = ({ rows, pageSize, deleteTransactions }) => {\n  const [selected, setSelected] = useState([]);\n  return (\n    <div className=\"profit-table\">\n      <DataGrid\n        rows={rows}\n        columns={columns}\n        pageSize={pageSize || 5}\n        sortModel={[{\n          field: 'id',\n          sort: 'asc',\n        }]}\n        checkboxSelection\n        autoHeight\n        onSelectionModelChange={selection => setSelected(selection.selectionModel)}\n      />\n      {\n        Boolean(selected.length) &&\n        <div className=\"std-btn\">\n\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            elevation={2}\n            onClick={() => deleteTransactions(selected)}\n          >\n            delete\n          </Button>\n        </div>\n      }\n    </div>\n  );\n};\n\nexport default ProfitTable;\n","const FUTU_US_TRANSACTION_FEES = Object.freeze({ // PER SHARE US FEES\n  COMMISSION: 0.0049,\n  PLATFORM: 0.005,\n  CLEARING: 0.003,\n});\n\nconst FUTU_US_MIN_FEES = Object.freeze({\n  COMMISSION: 0.99,\n  PLATFORM: 1,\n});\n\nconst FUTU_US_BUY = Object.freeze({\n  PER_SHARE: FUTU_US_TRANSACTION_FEES,\n  MIN_FEES: FUTU_US_MIN_FEES,\n});\n\nconst FUTU_US_SALE = Object.freeze({\n  PER_SHARE: {\n    ...FUTU_US_TRANSACTION_FEES,\n    TRADING_ACTIVITY: 0.000119,\n  },\n  PER_AMOUNT: {\n    SEC: 0.0000051,\n  },\n  MIN_FEES: {\n    ...FUTU_US_MIN_FEES,\n    TRADING_ACTIVITY: 0.01,\n    SEC: 0.01,\n  },\n});\n\nconst FUTU_HK_TRANSACTION_FEES = Object.freeze({ // PER TRANSACTION HK FEES\n  // COMMISSION: 0.0003,\n  SETTLEMENT: 0.00002,\n  STAMP_DUTY: 0.001,\n  TRADING: 0.00005,\n  LEVY: 0.000027,\n});\n\nconst FUTU_HK_MIN_FEES = Object.freeze({\n  // COMMISSION: 3,\n  PLATFORM: 15,\n  TARIFF: 0.5,\n  SETTLEMENT: 2,\n  STAMP_DUTY: 1,\n  TRADING: 0.01,\n  LEVY: 0.01,\n});\n\nconst FUTU_HK_BUY = Object.freeze({\n  PER_AMOUNT: FUTU_HK_TRANSACTION_FEES,\n  MIN_FEES: FUTU_HK_MIN_FEES,\n});\n\nconst FUTU_HK_SALE = FUTU_HK_BUY;\n\nexport {\n  FUTU_US_BUY,\n  FUTU_US_SALE,\n  FUTU_HK_BUY,\n  FUTU_HK_SALE\n};\n","import {\n  FUTU_US_BUY, FUTU_US_SALE, FUTU_HK_BUY, FUTU_HK_SALE\n} from '../constants/commissions';\n\nconst getFee = (fees, price, numOfShares) => {\n  let total = 0;\n  const minFees = { ...fees.MIN_FEES };\n  // For Per Share Fees\n  if ('PER_SHARE' in fees) {\n    Object.keys(fees.PER_SHARE).forEach(key => {\n      let amount = fees.PER_SHARE[key] * numOfShares;\n      if (key in minFees) {\n        amount = Math.max(amount, minFees[key]);\n        delete minFees[key];\n      }\n      total += amount;\n    });\n  }\n  // For Per Amount Fees\n  if ('PER_AMOUNT' in fees) {\n    Object.keys(fees.PER_AMOUNT).forEach(key => {\n      let amount = fees.PER_AMOUNT[key] * numOfShares * price;\n      if (key in minFees) {\n        amount = Math.max(amount, minFees[key]);\n        delete minFees[key];\n      }\n      total += amount;\n    });\n  }\n  // For other fixed fees\n  total += (Object.keys(minFees).length ? Object.values(minFees).reduce((acc, fee) => acc + fee) : 0);\n  return total;\n};\n\nconst calculate = ({\n  market,\n  numOfShares,\n  buyPrice,\n  sellPrice,\n}) => {\n  const BUY_FEES = market === 'US' ? FUTU_US_BUY : FUTU_HK_BUY;\n  const SALE_FEES = market === 'US' ? FUTU_US_SALE : FUTU_HK_SALE;\n\n  const buyCommission = getFee(BUY_FEES, buyPrice, numOfShares);\n  const sellCommission = getFee(SALE_FEES, sellPrice, numOfShares);\n  const commission = buyCommission + sellCommission;\n  const profit = (sellPrice - buyPrice) * numOfShares - commission;\n  const percentageChange = profit / (buyPrice * numOfShares);\n  return {\n    profit: profit.toFixed(3),\n    buyCommission,\n    sellCommission,\n    percentageChange: (percentageChange * 100).toFixed(3),\n  };\n};\n\nexport default calculate;\n","import React, {\n  useReducer, useContext\n} from 'react';\nimport {\n  Paper, RadioGroup, FormControl, FormControlLabel, FormLabel,\n  Radio, TextField, InputAdornment, Input, InputLabel, Button,\n} from '@material-ui/core';\nimport { observer } from 'mobx-react-lite';\n\nimport { TransactionContext } from '../../store';\nimport ProfitTable from '../molecules/ProfitTable';\nimport calculate from '../../helpers/calculate';\nimport './Calculator.css';\n\nconst CalculatorRow = ({ label, children }) =>\n  <div className=\"calculator-row\">\n    <div className=\"calculator-row-label\">{`${label}:`}</div>\n    {children}\n  </div>;\n\nconst Calculator = () => {\n  const transaction = useContext(TransactionContext);\n  const [form, dispatchForm] = useReducer(\n    (state, action) => ({ ...state, ...action }),\n    {\n      market: 'US',\n      numOfShares: 100,\n      buyPrice: 15,\n      sellPrice: 15,\n    }\n  );\n\n  const generateResult = () => {\n    const result = calculate(form);\n    return {\n      id: 0,\n      profit: result.profit,\n      percentageChange: result.percentageChange,\n      buyPrice: form.buyPrice,\n      sellPrice: form.sellPrice,\n      numOfShares: form.numOfShares,\n    };\n  };\n\n  return (\n    <div>\n      <Paper variant=\"outlined\" className=\"calculator-card\" elevation={1}>\n        <CalculatorRow label=\"Market\">\n          <RadioGroup fullWidth row aria-label=\"market\" name=\"market\" value={form.market} onChange={e => dispatchForm({ market: e.target.value })}>\n            <FormControlLabel value=\"US\" control={<Radio />} label=\"US\" />\n            <FormControlLabel value=\"HK\" control={<Radio />} label=\"HK\" />\n          </RadioGroup>\n        </CalculatorRow>\n        <CalculatorRow label=\"Shares\">\n          <Input\n            fullWidth\n            type=\"number\"\n            value={form.numOfShares}\n            onChange={e => dispatchForm({ numOfShares: e.target.value })}\n            startAdornment={<InputAdornment position=\"start\">x</InputAdornment>}\n          />\n        </CalculatorRow>\n        <CalculatorRow label=\"Buy\">\n          <Input\n            fullWidth\n            type=\"number\"\n            value={form.buyPrice}\n            onChange={e => dispatchForm({ buyPrice: e.target.value })}\n            startAdornment={<InputAdornment position=\"start\">$</InputAdornment>}\n          />\n        </CalculatorRow>\n        <CalculatorRow label=\"Sell\">\n          <Input\n            fullWidth\n            type=\"number\"\n            value={form.sellPrice}\n            onChange={e => dispatchForm({ sellPrice: e.target.value })}\n            startAdornment={<InputAdornment position=\"start\">$</InputAdornment>}\n          />\n        </CalculatorRow>\n        <div className=\"calculator-btn\">\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            elevation={2}\n            onClick={() => transaction.saveTransaction(generateResult())}\n          >\n            Record\n          </Button>\n        </div>\n      </Paper>\n      <ProfitTable\n        rows={\n          (transaction.transactions.length ? [\n            ...transaction.transactions,\n            generateResult(),\n          ] : [generateResult()])\n        }\n        pageSize={5}\n        deleteTransactions={selected => transaction.deleteTransactions(selected)}\n      />\n    </div>\n  );\n};\n\nexport default observer(Calculator);\n","import React from 'react';\nimport {\n  AppBar, Toolbar, IconButton, Typography, Button\n} from '@material-ui/core';\nimport { AiOutlineMenu } from 'react-icons/ai';\n\nimport Calculator from '../components/organisms/Calculator';\nimport './Home.css';\n\nconst Home = () => (\n  <div className=\"home\">\n    <AppBar className=\"header\">\n      <Toolbar>\n        <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">\n          <AiOutlineMenu />\n        </IconButton>\n        <Typography variant=\"h6\">\n          Leek\n        </Typography>\n      </Toolbar>\n    </AppBar>\n    <Calculator />\n  </div>\n);\n\nexport default Home;\n","import StoreProvider from './store';\nimport Home from './pages/Home';\nimport './App.css';\n\nfunction App() {\n  return (\n    <StoreProvider>\n      <div className=\"App\">\n        <Home />\n      </div>\n    </StoreProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}